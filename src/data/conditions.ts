import type { Condition } from '@/types';

export const conditions: Condition[] = [
  {
    id: 'acs',
    name: 'Acute Coronary Syndrome (ACS)',
    category: 'cardiac',
    description: 'Time-critical myocardial ischemia requiring immediate recognition and intervention',
    stabilization: [
      {
        id: 'acs-stab-1',
        step: 'Place on cardiac monitor',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Continuous ECG monitoring for arrhythmias',
      },
      {
        id: 'acs-stab-2',
        step: 'Establish IV access',
        priority: 'critical',
        timing: 'Within 2 minutes',
        detail: 'Two large-bore IVs preferred',
      },
      {
        id: 'acs-stab-3',
        step: 'Oxygen if hypoxemic (SpO2 < 90%)',
        priority: 'high',
        timing: 'Immediate if indicated',
        detail: 'Target SpO2 ≥ 94%',
      },
      {
        id: 'acs-stab-4',
        step: 'Position patient at rest',
        priority: 'high',
        timing: 'Immediate',
        detail: 'Minimize oxygen demand',
      },
    ],
    initialTests: [
      {
        id: 'acs-test-1',
        test: '12-lead ECG',
        priority: 'immediate',
        reasoning: 'STEMI diagnosis requires ECG within 10 minutes of arrival',
        timing: 'Within 10 minutes',
      },
      {
        id: 'acs-test-2',
        test: 'Troponin',
        priority: 'immediate',
        reasoning: 'Biomarker for myocardial injury',
        timing: 'STAT',
      },
      {
        id: 'acs-test-3',
        test: 'Chest X-ray',
        priority: 'urgent',
        reasoning: 'Rule out alternative diagnoses, assess for complications',
        timing: 'Within 30 minutes',
      },
      {
        id: 'acs-test-4',
        test: 'Basic metabolic panel',
        priority: 'urgent',
        reasoning: 'Assess electrolytes, renal function',
      },
    ],
    criticalInterventions: [
      {
        id: 'acs-int-1',
        intervention: 'Aspirin 162-325 mg PO (chewed)',
        indication: 'All patients with suspected ACS unless contraindicated',
        contraindications: ['Active bleeding', 'Known severe allergy'],
        timing: 'Within 5 minutes',
        critical: true,
      },
      {
        id: 'acs-int-2',
        intervention: 'Nitroglycerin 0.4 mg SL',
        indication: 'Chest pain, if SBP > 90 mmHg',
        contraindications: ['Hypotension', 'RV infarct', 'Recent PDE5 inhibitor use'],
        timing: 'Early, can repeat q5min x3',
        critical: true,
      },
      {
        id: 'acs-int-3',
        intervention: 'Morphine 2-4 mg IV',
        indication: 'Severe pain unresponsive to nitrates',
        timing: 'As needed for pain',
        critical: false,
      },
      {
        id: 'acs-int-4',
        intervention: 'Dual antiplatelet therapy (P2Y12 inhibitor)',
        indication: 'ACS confirmed or highly suspected',
        timing: 'Early, coordinate with cardiology',
        critical: true,
      },
      {
        id: 'acs-int-5',
        intervention: 'Anticoagulation (heparin or LMWH)',
        indication: 'ACS confirmed',
        timing: 'Early',
        critical: true,
      },
    ],
    redFlags: [
      {
        id: 'acs-flag-1',
        flag: 'ST-elevation ≥ 1 mm in two contiguous leads',
        significance: 'STEMI - requires immediate reperfusion',
        action: 'Activate cath lab immediately, door-to-balloon < 90 min',
        severity: 'critical',
      },
      {
        id: 'acs-flag-2',
        flag: 'Hypotension with chest pain',
        significance: 'Cardiogenic shock or RV infarct',
        action: 'Fluid challenge if RV suspected, inotropes if shock, urgent cardiology',
        severity: 'critical',
      },
      {
        id: 'acs-flag-3',
        flag: 'Ventricular arrhythmias (VT/VF)',
        significance: 'Electrical instability',
        action: 'Defibrillation if unstable, antiarrhythmics, correct electrolytes',
        severity: 'critical',
      },
      {
        id: 'acs-flag-4',
        flag: 'New murmur with acute chest pain',
        significance: 'Possible mechanical complication (VSD, MR, rupture)',
        action: 'Urgent echo, cardiothoracic surgery consult',
        severity: 'critical',
      },
    ],
    escalation: [
      {
        id: 'acs-esc-1',
        trigger: 'STEMI on ECG',
        destination: 'Cath Lab',
        urgency: 'immediate',
      },
      {
        id: 'acs-esc-2',
        trigger: 'Cardiogenic shock',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'acs-esc-3',
        trigger: 'Unstable arrhythmias',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'acs-esc-4',
        trigger: 'High-risk NSTEMI (elevated troponin, dynamic ST changes)',
        destination: 'Cath Lab',
        urgency: 'urgent',
      },
    ],
    pitfalls: [
      'Delaying ECG - must be done within 10 minutes',
      'Missing posterior or right ventricular MI patterns',
      'Giving nitrates to hypotensive patients or those with RV infarct',
      'Attributing chest pain to GERD without proper workup',
      'Missing aortic dissection - check for pulse differentials, mediastinal widening',
    ],
    timeTargets: [
      {
        milestone: 'ECG acquisition',
        target: '≤ 10 minutes from arrival',
        rationale: 'STEMI diagnosis depends on rapid ECG',
      },
      {
        milestone: 'Door-to-balloon (PCI)',
        target: '≤ 90 minutes',
        rationale: 'Myocardial salvage time-dependent',
      },
      {
        milestone: 'Door-to-needle (fibrinolysis)',
        target: '≤ 30 minutes',
        rationale: 'If PCI not available',
      },
    ],
    guidelines: ['AHA/ACC STEMI Guidelines', 'ACLS protocols'],
  },
  {
    id: 'stroke',
    name: 'Acute Stroke',
    category: 'neuro',
    description: 'Time-critical cerebral ischemia or hemorrhage requiring rapid triage and intervention',
    stabilization: [
      {
        id: 'stroke-stab-1',
        step: 'Assess and protect airway',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Consider intubation if GCS < 8 or unable to protect airway',
      },
      {
        id: 'stroke-stab-2',
        step: 'Establish IV access',
        priority: 'critical',
        timing: 'Within 2 minutes',
      },
      {
        id: 'stroke-stab-3',
        step: 'Check glucose immediately',
        priority: 'critical',
        timing: 'Immediate (point-of-care)',
        detail: 'Hypoglycemia can mimic stroke',
      },
      {
        id: 'stroke-stab-4',
        step: 'Keep patient NPO',
        priority: 'high',
        timing: 'Immediate',
        detail: 'Aspiration risk until swallow screen completed',
      },
    ],
    initialTests: [
      {
        id: 'stroke-test-1',
        test: 'Non-contrast head CT',
        priority: 'immediate',
        reasoning: 'Differentiate ischemic from hemorrhagic stroke - REQUIRED before tPA',
        timing: 'Within 25 minutes of arrival',
      },
      {
        id: 'stroke-test-2',
        test: 'Glucose (POCT)',
        priority: 'immediate',
        reasoning: 'Exclude hypoglycemia as stroke mimic',
        timing: 'Immediate',
      },
      {
        id: 'stroke-test-3',
        test: 'ECG',
        priority: 'immediate',
        reasoning: 'Identify atrial fibrillation or MI',
        timing: 'Within 10 minutes',
      },
      {
        id: 'stroke-test-4',
        test: 'Coagulation panel (PT/INR, aPTT)',
        priority: 'immediate',
        reasoning: 'Required before thrombolysis',
        timing: 'STAT',
      },
      {
        id: 'stroke-test-5',
        test: 'CBC with platelets',
        priority: 'immediate',
        reasoning: 'Assess for thrombocytopenia before tPA',
        timing: 'STAT',
      },
    ],
    criticalInterventions: [
      {
        id: 'stroke-int-1',
        intervention: 'Alteplase (tPA) 0.9 mg/kg IV',
        indication: 'Ischemic stroke within 4.5 hours, meets inclusion criteria',
        contraindications: [
          'Hemorrhagic stroke',
          'Recent surgery/trauma',
          'BP > 185/110',
          'Platelets < 100k',
          'INR > 1.7',
          'Glucose < 50',
        ],
        timing: 'Door-to-needle ≤ 60 minutes',
        critical: true,
      },
      {
        id: 'stroke-int-2',
        intervention: 'Blood pressure management',
        indication: 'Keep BP < 185/110 if tPA candidate; otherwise permissive hypertension',
        timing: 'Immediate',
        critical: true,
      },
      {
        id: 'stroke-int-3',
        intervention: 'Mechanical thrombectomy',
        indication: 'Large vessel occlusion within 24 hours',
        timing: 'Urgent',
        critical: true,
      },
    ],
    redFlags: [
      {
        id: 'stroke-flag-1',
        flag: 'Sudden severe headache ("worst of life")',
        significance: 'Possible subarachnoid hemorrhage',
        action: 'Non-contrast CT, consider CTA or LP if CT negative',
        severity: 'critical',
      },
      {
        id: 'stroke-flag-2',
        flag: 'Rapidly declining GCS',
        significance: 'Increased ICP, herniation risk, large bleed',
        action: 'Airway management, neurosurgery consult, consider osmotic therapy',
        severity: 'critical',
      },
      {
        id: 'stroke-flag-3',
        flag: 'Blood pressure > 220/120',
        significance: 'Hypertensive emergency, increased hemorrhagic transformation risk',
        action: 'Controlled BP reduction (avoid rapid drops)',
        severity: 'high',
      },
      {
        id: 'stroke-flag-4',
        flag: 'Bilateral symptoms or crossed findings',
        significance: 'Brainstem stroke',
        action: 'Urgent neurology, high risk of airway compromise',
        severity: 'critical',
      },
    ],
    escalation: [
      {
        id: 'stroke-esc-1',
        trigger: 'Hemorrhagic stroke',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'stroke-esc-2',
        trigger: 'Large vessel occlusion',
        destination: 'Stroke Team',
        urgency: 'immediate',
      },
      {
        id: 'stroke-esc-3',
        trigger: 'Declining GCS or herniation signs',
        destination: 'Airway Team',
        urgency: 'immediate',
      },
    ],
    pitfalls: [
      'Waiting for labs or imaging before checking glucose',
      'Giving tPA without head CT',
      'Over-aggressive BP lowering in acute ischemic stroke',
      'Missing posterior circulation strokes (normal CT early)',
      'Delaying swallow screen - aspiration risk',
    ],
    timeTargets: [
      {
        milestone: 'Door to CT',
        target: '≤ 25 minutes',
        rationale: 'Rapid hemorrhage exclusion',
      },
      {
        milestone: 'Door to tPA',
        target: '≤ 60 minutes',
        rationale: 'Time is brain - every minute counts',
      },
    ],
    guidelines: ['AHA/ASA Stroke Guidelines', 'Acute Ischemic Stroke Management'],
  },
  {
    id: 'sepsis',
    name: 'Sepsis & Septic Shock',
    category: 'infectious',
    description: 'Life-threatening organ dysfunction due to dysregulated host response to infection',
    stabilization: [
      {
        id: 'sepsis-stab-1',
        step: 'Establish large-bore IV access (2 lines)',
        priority: 'critical',
        timing: 'Immediate',
      },
      {
        id: 'sepsis-stab-2',
        step: 'Oxygen supplementation',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Target SpO2 ≥ 94%',
      },
      {
        id: 'sepsis-stab-3',
        step: 'Initiate fluid resuscitation',
        priority: 'critical',
        timing: 'Within 1 hour',
        detail: '30 mL/kg crystalloid bolus',
      },
      {
        id: 'sepsis-stab-4',
        step: 'Prepare for possible intubation',
        priority: 'high',
        timing: 'Early if signs of respiratory failure',
      },
    ],
    initialTests: [
      {
        id: 'sepsis-test-1',
        test: 'Lactate',
        priority: 'immediate',
        reasoning: 'Marker of tissue perfusion and sepsis severity',
        timing: 'Within 15 minutes',
      },
      {
        id: 'sepsis-test-2',
        test: 'Blood cultures (2 sets)',
        priority: 'immediate',
        reasoning: 'BEFORE antibiotics, guides therapy',
        timing: 'Within 45 minutes',
      },
      {
        id: 'sepsis-test-3',
        test: 'CBC with differential',
        priority: 'immediate',
        reasoning: 'WBC count, assess for anemia/thrombocytopenia',
      },
      {
        id: 'sepsis-test-4',
        test: 'Comprehensive metabolic panel',
        priority: 'immediate',
        reasoning: 'Renal function, electrolytes, liver function',
      },
      {
        id: 'sepsis-test-5',
        test: 'Procalcitonin',
        priority: 'urgent',
        reasoning: 'Supports bacterial infection diagnosis',
      },
      {
        id: 'sepsis-test-6',
        test: 'Imaging of suspected source',
        priority: 'urgent',
        reasoning: 'Chest X-ray, CT abdomen/pelvis as indicated',
      },
    ],
    criticalInterventions: [
      {
        id: 'sepsis-int-1',
        intervention: 'Broad-spectrum antibiotics',
        indication: 'All patients with sepsis/septic shock',
        timing: 'Within 1 hour of recognition',
        critical: true,
      },
      {
        id: 'sepsis-int-2',
        intervention: '30 mL/kg crystalloid bolus',
        indication: 'Hypotension or lactate ≥ 4 mmol/L',
        timing: 'Within 3 hours',
        critical: true,
      },
      {
        id: 'sepsis-int-3',
        intervention: 'Vasopressors (norepinephrine)',
        indication: 'Hypotension despite adequate fluid resuscitation',
        timing: 'Early if persistent hypotension',
        critical: true,
      },
      {
        id: 'sepsis-int-4',
        intervention: 'Source control',
        indication: 'Abscess drainage, removal of infected devices',
        timing: 'As soon as feasible',
        critical: true,
      },
    ],
    redFlags: [
      {
        id: 'sepsis-flag-1',
        flag: 'Persistent hypotension (SBP < 90) despite fluids',
        significance: 'Septic shock',
        action: 'Start vasopressors, ICU admission',
        severity: 'critical',
      },
      {
        id: 'sepsis-flag-2',
        flag: 'Lactate ≥ 4 mmol/L',
        significance: 'Severe tissue hypoperfusion',
        action: 'Aggressive resuscitation, ICU',
        severity: 'critical',
      },
      {
        id: 'sepsis-flag-3',
        flag: 'Altered mental status',
        significance: 'Septic encephalopathy or inadequate perfusion',
        action: 'Rule out other causes, consider intubation',
        severity: 'high',
      },
      {
        id: 'sepsis-flag-4',
        flag: 'Decreased urine output (< 0.5 mL/kg/hr)',
        significance: 'Acute kidney injury',
        action: 'Fluid resuscitation, monitor renal function',
        severity: 'high',
      },
    ],
    escalation: [
      {
        id: 'sepsis-esc-1',
        trigger: 'Septic shock',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'sepsis-esc-2',
        trigger: 'Need for vasopressor support',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'sepsis-esc-3',
        trigger: 'Respiratory failure',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'sepsis-esc-4',
        trigger: 'Need for source control (surgery)',
        destination: 'OR',
        urgency: 'urgent',
      },
    ],
    pitfalls: [
      'Delaying antibiotics - every hour delay increases mortality',
      'Under-resuscitating with fluids',
      'Missing occult sources (abscesses, infected devices)',
      'Not repeating lactate to assess response',
      'Giving antibiotics before blood cultures',
    ],
    timeTargets: [
      {
        milestone: 'Antibiotics administration',
        target: '≤ 1 hour from recognition',
        rationale: 'Each hour delay increases mortality by 7%',
      },
      {
        milestone: 'Initial fluid bolus completion',
        target: '≤ 3 hours',
        rationale: 'Early aggressive resuscitation improves outcomes',
      },
    ],
    guidelines: ['Surviving Sepsis Campaign', 'Sepsis-3 definitions'],
  },
  {
    id: 'anaphylaxis',
    name: 'Anaphylaxis',
    category: 'immunologic',
    description: 'Severe, life-threatening systemic allergic reaction requiring immediate epinephrine',
    stabilization: [
      {
        id: 'anaph-stab-1',
        step: 'Position patient supine with legs elevated',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Improves venous return; sit up if respiratory distress',
      },
      {
        id: 'anaph-stab-2',
        step: 'Assess airway patency',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Watch for stridor, tongue/lip swelling',
      },
      {
        id: 'anaph-stab-3',
        step: 'High-flow oxygen',
        priority: 'critical',
        timing: 'Immediate',
      },
      {
        id: 'anaph-stab-4',
        step: 'Establish IV access',
        priority: 'critical',
        timing: 'Within 2 minutes',
      },
    ],
    initialTests: [
      {
        id: 'anaph-test-1',
        test: 'Clinical diagnosis - do NOT delay treatment for testing',
        priority: 'immediate',
        reasoning: 'Anaphylaxis is a clinical diagnosis',
      },
      {
        id: 'anaph-test-2',
        test: 'Serum tryptase (optional)',
        priority: 'standard',
        reasoning: 'Can confirm mast cell activation, draw 1-2 hours after symptom onset',
      },
    ],
    criticalInterventions: [
      {
        id: 'anaph-int-1',
        intervention: 'Epinephrine 0.3-0.5 mg IM (1:1000)',
        indication: 'ALL patients with anaphylaxis',
        timing: 'IMMEDIATELY - first-line, life-saving',
        critical: true,
      },
      {
        id: 'anaph-int-2',
        intervention: 'Repeat epinephrine q5-15min PRN',
        indication: 'Persistent symptoms',
        timing: 'As needed',
        critical: true,
      },
      {
        id: 'anaph-int-3',
        intervention: 'IV fluid bolus (1-2L crystalloid)',
        indication: 'Hypotension',
        timing: 'Immediate',
        critical: true,
      },
      {
        id: 'anaph-int-4',
        intervention: 'H1 antihistamine (diphenhydramine 25-50 mg IV)',
        indication: 'Adjunct therapy (NOT first-line)',
        timing: 'After epinephrine',
        critical: false,
      },
      {
        id: 'anaph-int-5',
        intervention: 'H2 antihistamine (famotidine 20 mg IV)',
        indication: 'Adjunct therapy',
        timing: 'After epinephrine',
        critical: false,
      },
      {
        id: 'anaph-int-6',
        intervention: 'Corticosteroids (methylprednisolone 125 mg IV)',
        indication: 'Prevent biphasic reaction',
        timing: 'Early',
        critical: false,
      },
      {
        id: 'anaph-int-7',
        intervention: 'Albuterol nebulizer',
        indication: 'Bronchospasm',
        timing: 'As adjunct',
        critical: false,
      },
    ],
    redFlags: [
      {
        id: 'anaph-flag-1',
        flag: 'Stridor or difficulty breathing',
        significance: 'Upper airway edema - imminent airway loss',
        action: 'Repeat epinephrine, prepare for intubation or cricothyrotomy',
        severity: 'critical',
      },
      {
        id: 'anaph-flag-2',
        flag: 'Hypotension or syncope',
        significance: 'Distributive shock',
        action: 'Epinephrine, aggressive IV fluids, consider epinephrine infusion',
        severity: 'critical',
      },
      {
        id: 'anaph-flag-3',
        flag: 'Angioedema (tongue, lip, uvular swelling)',
        significance: 'Airway compromise risk',
        action: 'Epinephrine, airway readiness',
        severity: 'critical',
      },
      {
        id: 'anaph-flag-4',
        flag: 'Patient on beta-blocker',
        significance: 'Refractory to epinephrine',
        action: 'Consider glucagon 1-5 mg IV',
        severity: 'high',
      },
    ],
    escalation: [
      {
        id: 'anaph-esc-1',
        trigger: 'Impending airway obstruction',
        destination: 'Airway Team',
        urgency: 'immediate',
      },
      {
        id: 'anaph-esc-2',
        trigger: 'Refractory hypotension',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'anaph-esc-3',
        trigger: 'Need for continuous epinephrine infusion',
        destination: 'ICU',
        urgency: 'immediate',
      },
    ],
    pitfalls: [
      'Delaying epinephrine - it is FIRST-LINE, not antihistamines',
      'Giving epinephrine IV instead of IM (unless in arrest)',
      'Discharging too early - observe 4-6 hours for biphasic reaction',
      'Missing the diagnosis in absence of rash (20% have no rash)',
      'Not prescribing epinephrine auto-injector at discharge',
    ],
    timeTargets: [
      {
        milestone: 'Epinephrine administration',
        target: 'Immediate (< 5 minutes)',
        rationale: 'Delays increase mortality risk',
      },
    ],
    guidelines: ['World Allergy Organization Anaphylaxis Guidelines'],
  },
  {
    id: 'status-epilepticus',
    name: 'Status Epilepticus',
    category: 'neuro',
    description: 'Seizure lasting > 5 minutes or recurrent seizures without recovery - neurological emergency',
    stabilization: [
      {
        id: 'se-stab-1',
        step: 'Protect airway, position lateral if possible',
        priority: 'critical',
        timing: 'Immediate',
      },
      {
        id: 'se-stab-2',
        step: 'Oxygen supplementation',
        priority: 'critical',
        timing: 'Immediate',
      },
      {
        id: 'se-stab-3',
        step: 'Check glucose (POCT)',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Hypoglycemia is treatable cause',
      },
      {
        id: 'se-stab-4',
        step: 'Establish IV access',
        priority: 'critical',
        timing: 'Within 2 minutes',
      },
    ],
    initialTests: [
      {
        id: 'se-test-1',
        test: 'Glucose (POCT)',
        priority: 'immediate',
        reasoning: 'Rule out hypoglycemia',
        timing: 'Immediate',
      },
      {
        id: 'se-test-2',
        test: 'Basic metabolic panel',
        priority: 'immediate',
        reasoning: 'Sodium abnormalities, renal function',
      },
      {
        id: 'se-test-3',
        test: 'Antiepileptic drug levels',
        priority: 'urgent',
        reasoning: 'If known seizure disorder',
      },
      {
        id: 'se-test-4',
        test: 'Head CT',
        priority: 'urgent',
        reasoning: 'Once stabilized - rule out structural lesions',
      },
      {
        id: 'se-test-5',
        test: 'Toxicology screen',
        priority: 'urgent',
        reasoning: 'If overdose suspected',
      },
    ],
    criticalInterventions: [
      {
        id: 'se-int-1',
        intervention: 'Lorazepam 0.1 mg/kg IV (max 4 mg) or Midazolam 10 mg IM',
        indication: 'First-line benzodiazepine',
        timing: '0-5 minutes',
        critical: true,
      },
      {
        id: 'se-int-2',
        intervention: 'Repeat benzodiazepine if seizure continues',
        indication: 'Ongoing seizure after 5 minutes',
        timing: '5-10 minutes',
        critical: true,
      },
      {
        id: 'se-int-3',
        intervention: 'Fosphenytoin 20 PE/kg IV or Levetiracetam 60 mg/kg IV',
        indication: 'Second-line agent if benzos fail',
        timing: '10-20 minutes',
        critical: true,
      },
      {
        id: 'se-int-4',
        intervention: 'Valproic acid 40 mg/kg IV (alternative second-line)',
        indication: 'If fosphenytoin/levetiracetam unavailable or contraindicated',
        timing: '10-20 minutes',
        critical: true,
      },
      {
        id: 'se-int-5',
        intervention: 'Anesthetic doses (propofol, midazolam, pentobarbital)',
        indication: 'Refractory status epilepticus',
        timing: '> 20 minutes',
        critical: true,
      },
      {
        id: 'se-int-6',
        intervention: 'Thiamine 100 mg IV + Dextrose 50% 50 mL IV',
        indication: 'If hypoglycemia or concern for alcohol use disorder',
        timing: 'Early',
        critical: false,
      },
    ],
    redFlags: [
      {
        id: 'se-flag-1',
        flag: 'Seizure > 5 minutes',
        significance: 'Definition of status epilepticus',
        action: 'Benzodiazepines immediately',
        severity: 'critical',
      },
      {
        id: 'se-flag-2',
        flag: 'Refractory to 2 benzodiazepine doses',
        significance: 'Refractory status epilepticus',
        action: 'Second-line agents, prepare for intubation, ICU',
        severity: 'critical',
      },
      {
        id: 'se-flag-3',
        flag: 'Declining GCS or respiratory depression',
        significance: 'Airway compromise from seizure or medications',
        action: 'Prepare for intubation',
        severity: 'critical',
      },
    ],
    escalation: [
      {
        id: 'se-esc-1',
        trigger: 'Refractory status epilepticus',
        destination: 'ICU',
        urgency: 'immediate',
      },
      {
        id: 'se-esc-2',
        trigger: 'Need for intubation',
        destination: 'Airway Team',
        urgency: 'immediate',
      },
      {
        id: 'se-esc-3',
        trigger: 'Structural lesion on CT requiring surgery',
        destination: 'OR',
        urgency: 'urgent',
      },
    ],
    pitfalls: [
      'Delaying benzodiazepines - give within 5 minutes',
      'Under-dosing benzodiazepines',
      'Not checking glucose - easily treatable cause',
      'Waiting too long before second-line agents',
      'Not protecting airway in prolonged seizures',
    ],
    timeTargets: [
      {
        milestone: 'First benzodiazepine dose',
        target: '< 5 minutes',
        rationale: 'Early treatment prevents refractory status',
      },
      {
        milestone: 'Second-line antiepileptic',
        target: '10-20 minutes if refractory',
        rationale: 'Prevent progression to refractory status',
      },
    ],
    guidelines: ['Neurocritical Care Society Status Epilepticus Guidelines'],
  },
  {
    id: 'acute-abdomen',
    name: 'Acute Abdomen',
    category: 'abdominal',
    description: 'Sudden severe abdominal pain requiring rapid surgical vs medical triage',
    stabilization: [
      {
        id: 'aa-stab-1',
        step: 'Establish IV access',
        priority: 'critical',
        timing: 'Immediate',
      },
      {
        id: 'aa-stab-2',
        step: 'NPO status',
        priority: 'critical',
        timing: 'Immediate',
      },
      {
        id: 'aa-stab-3',
        step: 'Fluid resuscitation if hypotensive',
        priority: 'critical',
        timing: 'Immediate',
      },
      {
        id: 'aa-stab-4',
        step: 'NG tube if severe vomiting or obstruction',
        priority: 'high',
        timing: 'Early',
      },
    ],
    initialTests: [
      {
        id: 'aa-test-1',
        test: 'CBC',
        priority: 'immediate',
        reasoning: 'WBC count, hemoglobin',
      },
      {
        id: 'aa-test-2',
        test: 'Comprehensive metabolic panel',
        priority: 'immediate',
        reasoning: 'Electrolytes, liver enzymes, lipase',
      },
      {
        id: 'aa-test-3',
        test: 'Lipase',
        priority: 'immediate',
        reasoning: 'Evaluate for pancreatitis',
      },
      {
        id: 'aa-test-4',
        test: 'Lactate',
        priority: 'immediate',
        reasoning: 'Marker of bowel ischemia',
      },
      {
        id: 'aa-test-5',
        test: 'Pregnancy test (if applicable)',
        priority: 'immediate',
        reasoning: 'Rule out ectopic pregnancy',
      },
      {
        id: 'aa-test-6',
        test: 'CT abdomen/pelvis with IV contrast',
        priority: 'urgent',
        reasoning: 'Definitive imaging for most causes',
      },
      {
        id: 'aa-test-7',
        test: 'Ultrasound (bedside or formal)',
        priority: 'urgent',
        reasoning: 'AAA, cholecystitis, ectopic pregnancy',
      },
    ],
    criticalInterventions: [
      {
        id: 'aa-int-1',
        intervention: 'Fluid resuscitation',
        indication: 'Hypotension, signs of volume depletion',
        timing: 'Immediate',
        critical: true,
      },
      {
        id: 'aa-int-2',
        intervention: 'Broad-spectrum antibiotics',
        indication: 'Perforation, peritonitis, cholangitis, complicated intra-abdominal infection',
        timing: 'Within 1 hour if infection suspected',
        critical: true,
      },
      {
        id: 'aa-int-3',
        intervention: 'Pain control (avoid masking peritoneal signs)',
        indication: 'Severe pain after initial assessment',
        timing: 'After surgical evaluation',
        critical: false,
      },
      {
        id: 'aa-int-4',
        intervention: 'Emergency surgery',
        indication: 'Ruptured AAA, perforated viscus, ischemic bowel',
        timing: 'Immediate to OR',
        critical: true,
      },
    ],
    redFlags: [
      {
        id: 'aa-flag-1',
        flag: 'Peritoneal signs (rigidity, rebound tenderness)',
        significance: 'Peritonitis - surgical emergency',
        action: 'Urgent surgical consult, CT if stable',
        severity: 'critical',
      },
      {
        id: 'aa-flag-2',
        flag: 'Hypotension with abdominal pain',
        significance: 'Ruptured AAA, hemorrhage, sepsis',
        action: 'Urgent imaging (bedside US for AAA), activate trauma/surgery',
        severity: 'critical',
      },
      {
        id: 'aa-flag-3',
        flag: 'Pulsatile abdominal mass',
        significance: 'AAA',
        action: 'DO NOT palpate further, vascular surgery STAT, prepare for OR',
        severity: 'critical',
      },
      {
        id: 'aa-flag-4',
        flag: 'Absent bowel sounds with distension',
        significance: 'Bowel obstruction or ileus',
        action: 'Imaging, surgical consult',
        severity: 'high',
      },
      {
        id: 'aa-flag-5',
        flag: 'Elevated lactate with abdominal pain',
        significance: 'Mesenteric ischemia',
        action: 'CT angiography, urgent vascular surgery',
        severity: 'critical',
      },
    ],
    escalation: [
      {
        id: 'aa-esc-1',
        trigger: 'Ruptured AAA',
        destination: 'OR',
        urgency: 'immediate',
      },
      {
        id: 'aa-esc-2',
        trigger: 'Perforated viscus',
        destination: 'OR',
        urgency: 'immediate',
      },
      {
        id: 'aa-esc-3',
        trigger: 'Mesenteric ischemia',
        destination: 'OR',
        urgency: 'immediate',
      },
      {
        id: 'aa-esc-4',
        trigger: 'Septic shock from intra-abdominal source',
        destination: 'ICU',
        urgency: 'immediate',
      },
    ],
    pitfalls: [
      'Delaying CT in unstable patient with suspected AAA',
      'Missing ectopic pregnancy in women of childbearing age',
      'Attributing pain to "gastritis" without adequate workup',
      'Delaying surgical consult in peritonitis',
      'Missing mesenteric ischemia - often "pain out of proportion to exam"',
    ],
    guidelines: ['Acute Abdomen Management Protocols'],
  },
  {
    id: 'trauma',
    name: 'Trauma (Primary Survey)',
    category: 'trauma',
    description: 'Systematic approach to identifying and managing life-threatening injuries',
    stabilization: [
      {
        id: 'trauma-stab-1',
        step: 'A - Airway with C-spine protection',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Assess patency, consider intubation if GCS < 8 or airway compromise',
      },
      {
        id: 'trauma-stab-2',
        step: 'B - Breathing and ventilation',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Look for tension pneumothorax, flail chest, open pneumothorax',
      },
      {
        id: 'trauma-stab-3',
        step: 'C - Circulation with hemorrhage control',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'Control external bleeding, establish 2 large-bore IVs',
      },
      {
        id: 'trauma-stab-4',
        step: 'D - Disability (neurological status)',
        priority: 'critical',
        timing: 'Immediate',
        detail: 'GCS, pupil exam',
      },
      {
        id: 'trauma-stab-5',
        step: 'E - Exposure with environmental control',
        priority: 'high',
        timing: 'Early',
        detail: 'Remove clothing, log roll, prevent hypothermia',
      },
    ],
    initialTests: [
      {
        id: 'trauma-test-1',
        test: 'FAST exam (Focused Assessment with Sonography for Trauma)',
        priority: 'immediate',
        reasoning: 'Rapid detection of free fluid (blood) in abdomen/pericardium',
        timing: 'During primary survey',
      },
      {
        id: 'trauma-test-2',
        test: 'Chest X-ray (portable)',
        priority: 'immediate',
        reasoning: 'Pneumothorax, hemothorax, widened mediastinum',
      },
      {
        id: 'trauma-test-3',
        test: 'Pelvis X-ray',
        priority: 'immediate',
        reasoning: 'Unstable pelvic fracture',
      },
      {
        id: 'trauma-test-4',
        test: 'Trauma labs (CBC, type and cross, coags, lactate)',
        priority: 'immediate',
        reasoning: 'Assess blood loss, prepare for transfusion',
      },
      {
        id: 'trauma-test-5',
        test: 'CT head/C-spine/chest/abdomen/pelvis (if stable)',
        priority: 'urgent',
        reasoning: 'Definitive imaging for injuries',
      },
    ],
    criticalInterventions: [
      {
        id: 'trauma-int-1',
        intervention: 'Needle decompression',
        indication: 'Tension pneumothorax',
        timing: 'IMMEDIATE - do not wait for imaging',
        critical: true,
      },
      {
        id: 'trauma-int-2',
        intervention: 'Chest tube',
        indication: 'Pneumothorax, hemothorax',
        timing: 'Urgent',
        critical: true,
      },
      {
        id: 'trauma-int-3',
        intervention: 'Massive transfusion protocol',
        indication: 'Hemorrhagic shock',
        timing: 'Immediate',
        critical: true,
      },
      {
        id: 'trauma-int-4',
        intervention: 'Pelvic binder',
        indication: 'Unstable pelvic fracture',
        timing: 'Immediate',
        critical: true,
      },
      {
        id: 'trauma-int-5',
        intervention: 'Tranexamic acid 1g IV',
        indication: 'Hemorrhagic shock within 3 hours of injury',
        timing: 'Within 3 hours',
        critical: true,
      },
    ],
    redFlags: [
      {
        id: 'trauma-flag-1',
        flag: 'Absent breath sounds + hypotension + JVD',
        significance: 'Tension pneumothorax',
        action: 'Immediate needle decompression',
        severity: 'critical',
      },
      {
        id: 'trauma-flag-2',
        flag: 'Beck\'s triad (hypotension, JVD, muffled heart sounds)',
        significance: 'Cardiac tamponade',
        action: 'Pericardiocentesis or emergency thoracotomy',
        severity: 'critical',
      },
      {
        id: 'trauma-flag-3',
        flag: 'Hemorrhagic shock not responding to fluids',
        significance: 'Ongoing hemorrhage',
        action: 'Activate massive transfusion, urgent OR or IR',
        severity: 'critical',
      },
      {
        id: 'trauma-flag-4',
        flag: 'GCS < 8',
        significance: 'Severe head injury, unable to protect airway',
        action: 'Intubate, head CT, neurosurgery',
        severity: 'critical',
      },
      {
        id: 'trauma-flag-5',
        flag: 'Penetrating chest or abdominal trauma with instability',
        significance: 'Life-threatening injury',
        action: 'Urgent OR',
        severity: 'critical',
      },
    ],
    escalation: [
      {
        id: 'trauma-esc-1',
        trigger: 'Hemodynamic instability despite resuscitation',
        destination: 'OR',
        urgency: 'immediate',
      },
      {
        id: 'trauma-esc-2',
        trigger: 'Tension pneumothorax or cardiac tamponade',
        destination: 'Trauma Team',
        urgency: 'immediate',
      },
      {
        id: 'trauma-esc-3',
        trigger: 'Severe traumatic brain injury',
        destination: 'OR',
        urgency: 'immediate',
      },
    ],
    pitfalls: [
      'Ordering imaging before stabilizing patient',
      'Missing tension pneumothorax - treat clinically, do not wait for CXR',
      'Not maintaining C-spine precautions',
      'Delayed massive transfusion protocol activation',
      'Missing second injuries (e.g., focusing on obvious injury, missing occult hemorrhage)',
    ],
    timeTargets: [
      {
        milestone: 'Primary survey completion',
        target: '< 5 minutes',
        rationale: 'Identify immediately life-threatening injuries',
      },
      {
        milestone: 'Definitive hemorrhage control',
        target: '< 60 minutes (golden hour)',
        rationale: 'Minimize blood loss and ischemia',
      },
    ],
    guidelines: ['ATLS (Advanced Trauma Life Support) protocols'],
  },
];
